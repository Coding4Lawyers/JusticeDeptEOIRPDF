import requests
from bs4 import BeautifulSoup
import time
import subprocess



def fixHREF(div):
    #Adds 'https://www.justice.gov' before each <a> so the link will work in the PDF.
    #This also fixes any images by modifying the src.
    atags = div.find_all('a')
    print("Fixing HREF and IMG")
    for atag in atags:
        if(atag.has_attr('href')):
            if(atag['href'][0:4] != 'http'):
                atag['href'] = 'https://www.justice.gov' + atag['href']

    images = div.find_all('img')
    if(len(images) != 0):
        for image in images:
            image['src'] = 'https://www.justice.gov' + image['src']
    return div
def getContent(url):
    #Gets the html from a content page and adds it to the html file.
    print("Getting Content Page",url)
    r = requests.get(url)
    html = r.text
    soup = BeautifulSoup(html, 'html.parser')
    div = soup.find('div', attrs={'class': 'l-content'})
    div = fixHREF(div)
    f = open('justice_immigration_manual.html', "a")
    #f = open('justice_immigration_manual.html', "a",encoding="utf-8")
    f.write("</br></br>" + str(div).replace(u"\u2011", "-"))
    f.close()
def getData(url):
    #This function cycles through all the toc at https://www.justice.gov/eoir/eoir-policy-manual
    #It will go deeper if the link goes to more links
    #The end result is a list of urls that have just the content.
    #TODO: Right now this uses two global variables but it should probably not do that
    global numberofgets

    #For testing so we don't pull the whole amount.
    # if(numberofgets > 5):
    #     return None
    print("Starting Get Data with",url)
    time.sleep(1)
    r = requests.get(url)
    numberofgets += 1
    html = r.text
    soup = BeautifulSoup(html,'html.parser')
    div = soup.find('div',attrs={'class':'book-navigation'})

    #Grab all the list elements in the div with the content
    li_elements = div.find_all('li')

    #Loop through each <li> and call the getData() function (recursive) to grab links that are sub links
    #i.e. some links lead to more table of contents with more links.
    for li_element in li_elements:
        print(li_element.text)

        li_classes = li_element['class']
        atag = li_element.find('a')
        href = atag['href']
        fullurl = 'https://www.justice.gov' + href
        if('leaf' in li_classes):
            #Means there are no sub parts
            #print("Here",li_element.text)
            urls_with_content.append(fullurl)
        elif('collapsed' in li_classes):
            #Means we have to go deeper
            #print("Deeper",li_element.text)
            urls_with_content.append(fullurl) #We add it here so we get the toc for each part as well.
            getData(fullurl)
    return None
urls_with_content = []
numberofgets = 0
getData('https://www.justice.gov/eoir/eoir-policy-manual')
print("Converting to HTML")
print(urls_with_content)
#The list below is all the content urls. That way we can skip the getData function if it's just parsing we're doing. Otherwise keep it commented out.
#urls_with_content = ['https://www.justice.gov/eoir/eoir-policy-manual/directorletter', 'https://www.justice.gov/eoir/eoir-policy-manual/main', 'https://www.justice.gov/eoir/eoir-policy-manual/i/EOIRleadership', 'https://www.justice.gov/eoir/eoir-policy-manual/part-i-introduction', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1/1', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1/2', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1/3', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1/4', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1/5', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1/6', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1/7', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1/8', 'https://www.justice.gov/eoir/eoir-policy-manual/i/2', 'https://www.justice.gov/eoir/eoir-policy-manual/i/2/1', 'https://www.justice.gov/eoir/eoir-policy-manual/i/2/2', 'https://www.justice.gov/eoir/eoir-policy-manual/i/2/3', 'https://www.justice.gov/eoir/eoir-policy-manual/i/2/4', 'https://www.justice.gov/eoir/eoir-policy-manual/i/2/5', 'https://www.justice.gov/eoir/eoir-policy-manual/i/3', 'https://www.justice.gov/eoir/eoir-policy-manual/i/4', 'https://www.justice.gov/eoir/eoir-policy-manual/i/5', 'https://www.justice.gov/eoir/eoir-policy-manual/i/6', 'https://www.justice.gov/eoir/eoir-policy-manual/i/7', 'https://www.justice.gov/eoir/eoir-policy-manual/part-ii-ocij-practice-manual', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/intro', 'https://www.justice.gov/eoir/eoir-policy-manual/1', 'https://www.justice.gov/eoir/eoir-policy-manual/i/1/1', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/1/2', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/1/3', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/1/4', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/1/5', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/1/6', 'https://www.justice.gov/eoir/eoir-policy-manual/2', 'https://www.justice.gov/eoir/eoir-policy-manual/2/1', 'https://www.justice.gov/eoir/eoir-policy-manual/2/2', 'https://www.justice.gov/eoir/eoir-policy-manual/2/3', 'https://www.justice.gov/eoir/eoir-policy-manual/2/4', 'https://www.justice.gov/eoir/eoir-policy-manual/2/5', 'https://www.justice.gov/eoir/eoir-policy-manual/2/6', 'https://www.justice.gov/eoir/eoir-policy-manual/2/7', 'https://www.justice.gov/eoir/eoir-policy-manual/2/8', 'https://www.justice.gov/eoir/eoir-policy-manual/2/9', 'https://www.justice.gov/eoir/eoir-policy-manual/3', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/3/1', 'https://www.justice.gov/eoir/eoir-policy-manual/3/2', 'https://www.justice.gov/eoir/eoir-policy-manual/3/3', 'https://www.justice.gov/eoir/eoir-policy-manual/3/4', 'https://www.justice.gov/eoir/eoir-policy-manual/chapter-4', 'https://www.justice.gov/eoir/eoir-policy-manual/4/1', 'https://www.justice.gov/eoir/eoir-policy-manual/4/2', 'https://www.justice.gov/eoir/eoir-policy-manual/4/3', 'https://www.justice.gov/eoir/eoir-policy-manual/4/4', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/4/5', 'https://www.justice.gov/eoir/eoir-policy-manual/4/6', 'https://www.justice.gov/eoir/eoir-policy-manual/4/7', 'https://www.justice.gov/eoir/eoir-policy-manual/4/8', 'https://www.justice.gov/eoir/eoir-policy-manual/4/9', 'https://www.justice.gov/eoir/eoir-policy-manual/4/10', 'https://www.justice.gov/eoir/eoir-policy-manual/4/11', 'https://www.justice.gov/eoir/eoir-policy-manual/4/12', 'https://www.justice.gov/eoir/eoir-policy-manual/4/13', 'https://www.justice.gov/eoir/eoir-policy-manual/4/14', 'https://www.justice.gov/eoir/eoir-policy-manual/4/15', 'https://www.justice.gov/eoir/eoir-policy-manual/4/16', 'https://www.justice.gov/eoir/eoir-policy-manual/4/17', 'https://www.justice.gov/eoir/eoir-policy-manual/4/18', 'https://www.justice.gov/eoir/eoir-policy-manual/4/19', 'https://www.justice.gov/eoir/eoir-policy-manual/4/20', 'https://www.justice.gov/eoir/eoir-policy-manual/4/21', 'https://www.justice.gov/eoir/eoir-policy-manual/4/22', 'https://www.justice.gov/eoir/eoir-policy-manual/5', 'https://www.justice.gov/eoir/eoir-policy-manual/5/1', 'https://www.justice.gov/eoir/eoir-policy-manual/5/2', 'https://www.justice.gov/eoir/eoir-policy-manual/5/3', 'https://www.justice.gov/eoir/eoir-policy-manual/5/4', 'https://www.justice.gov/eoir/eoir-policy-manual/5/5', 'https://www.justice.gov/eoir/eoir-policy-manual/5/6', 'https://www.justice.gov/eoir/eoir-policy-manual/5/7', 'https://www.justice.gov/eoir/eoir-policy-manual/5/8', 'https://www.justice.gov/eoir/eoir-policy-manual/5/9', 'https://www.justice.gov/eoir/eoir-policy-manual/5/10', 'https://www.justice.gov/eoir/eoir-policy-manual/5/11', 'https://www.justice.gov/eoir/eoir-policy-manual/5/12', 'https://www.justice.gov/eoir/eoir-policy-manual/chapter-6-appeals-immigration-judge-decisions', 'https://www.justice.gov/eoir/eoir-policy-manual/6/1', 'https://www.justice.gov/eoir/eoir-policy-manual/6/2', 'https://www.justice.gov/eoir/eoir-policy-manual/6/3', 'https://www.justice.gov/eoir/eoir-policy-manual/6/4', 'https://www.justice.gov/eoir/eoir-policy-manual/6/5', 'https://www.justice.gov/eoir/eoir-policy-manual/6/6', 'https://www.justice.gov/eoir/eoir-policy-manual/7', 'https://www.justice.gov/eoir/eoir-policy-manual/7/1', 'https://www.justice.gov/eoir/eoir-policy-manual/7/2', 'https://www.justice.gov/eoir/eoir-policy-manual/7/3', 'https://www.justice.gov/eoir/eoir-policy-manual/7/4', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/7/5', 'https://www.justice.gov/eoir/eoir-policy-manual/8', 'https://www.justice.gov/eoir/eoir-policy-manual/8/1', 'https://www.justice.gov/eoir/eoir-policy-manual/8/2', 'https://www.justice.gov/eoir/eoir-policy-manual/8/3', 'https://www.justice.gov/eoir/eoir-policy-manual/9', 'https://www.justice.gov/eoir/eoir-policy-manual/9/1', 'https://www.justice.gov/eoir/eoir-policy-manual/9/2', 'https://www.justice.gov/eoir/eoir-policy-manual/9/3', 'https://www.justice.gov/eoir/eoir-policy-manual/9/4', 'https://www.justice.gov/eoir/eoir-policy-manual/10', 'https://www.justice.gov/eoir/eoir-policy-manual/10/1', 'https://www.justice.gov/eoir/eoir-policy-manual/10/2', 'https://www.justice.gov/eoir/eoir-policy-manual/10/3', 'https://www.justice.gov/eoir/eoir-policy-manual/10/4', 'https://www.justice.gov/eoir/eoir-policy-manual/10/5', 'https://www.justice.gov/eoir/eoir-policy-manual/10/6', 'https://www.justice.gov/eoir/eoir-policy-manual/10/7', 'https://www.justice.gov/eoir/eoir-policy-manual/10/8', 'https://www.justice.gov/eoir/eoir-policy-manual/10/9', 'https://www.justice.gov/eoir/eoir-policy-manual/10/10', 'https://www.justice.gov/eoir/eoir-policy-manual/11', 'https://www.justice.gov/eoir/eoir-policy-manual/11/1', 'https://www.justice.gov/eoir/eoir-policy-manual/11/2', 'https://www.justice.gov/eoir/eoir-policy-manual/11/3', 'https://www.justice.gov/eoir/eoir-policy-manual/11/4', 'https://www.justice.gov/eoir/eoir-policy-manual/12', 'https://www.justice.gov/eoir/eoir-policy-manual/12/1', 'https://www.justice.gov/eoir/eoir-policy-manual/12/2', 'https://www.justice.gov/eoir/eoir-policy-manual/12/3', 'https://www.justice.gov/eoir/eoir-policy-manual/13', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/14', 'https://www.justice.gov/eoir/eoir-policy-manual/ii/14/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/main', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/1/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/1/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/1/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/1/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/1/5', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/1/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/5', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/7', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/8', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/9', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/2/10', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/3/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/3/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/3/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/3/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/3/5', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/3/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/5', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/7', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/8', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/9', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/10', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/11', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/12', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/13', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/14', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/15', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/16', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/17', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/18', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/19', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/4/20', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/5', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/7', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/8', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/9', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/10', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/5/11', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/6/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/6/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/6/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/6/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/7', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/7/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/7/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/7/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/7/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/8', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/8/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/8/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/8/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/8/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/8/5', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/8/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/8/7', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/8/8', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/9', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/9/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/9/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/9/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/9/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/9/5', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/9/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/10', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/10/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/10/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/10/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/10/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/4', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/5', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/7', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/8', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/9', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/10', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/11', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/11/12', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/12', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/12/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/12/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/12/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/13', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/13/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/13/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/13/3', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/14', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/14/1', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/14/2', 'https://www.justice.gov/eoir/eoir-policy-manual/iii/14/3', 'https://www.justice.gov/eoir/eoir-policy-manual/part-iv-ocaho-practice-manual', 'https://www.justice.gov/eoir/eoir-policy-manual/iv/main', 'https://www.justice.gov/eoir/eoir-policy-manual/iv/1', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/1/1', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/1/2', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/1', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/2', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/3', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/4', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/5', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/6', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/7', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/8', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/9', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/2/10', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/3', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/3/1', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/3/2', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/3/3', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/3/4', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/3/5', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/3/6', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/3/7', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/1', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/2', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/3', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/4', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/5', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/6', 'https://www.justice.gov/eoir/eoir-policy-manual/iv/4/7', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/8', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/9', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/10', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/4/11', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5/1', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5/2', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5/3', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5/4', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5/5', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5/6', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5/7', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5/8', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/5/9', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/6', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/6/1', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/6/2', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/6/3', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/6/4', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/6/5', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/6/6', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/6/7', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/7', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/7/1', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/7/2', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/7/3', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/7/4', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/7/5', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/7/6', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/7/7', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/7/8', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/8', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/8/1', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/8/2', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/8/3', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/8/4', 'https://www.justice.gov/eoir/eoir-policy-manual/IV/8/5', 'https://www.justice.gov/eoir/eoir-policy-manual/part-v-miscellaneous', 'https://www.justice.gov/eoir/eoir-policy-manual/v/1', 'https://www.justice.gov/eoir/eoir-policy-manual/v/1/1', 'https://www.justice.gov/eoir/eoir-policy-manual/v/1/2', 'https://www.justice.gov/eoir/eoir-policy-manual/v/1/3', 'https://www.justice.gov/eoir/eoir-policy-manual/v/1/4', 'https://www.justice.gov/eoir/eoir-policy-manual/v/1/5', 'https://www.justice.gov/eoir/eoir-policy-manual/v/1/6', 'https://www.justice.gov/eoir/eoir-policy-manual/v/1/7', 'https://www.justice.gov/eoir/eoir-policy-manual/v/2', 'https://www.justice.gov/eoir/eoir-policy-manual/v/2/1', 'https://www.justice.gov/eoir/eoir-policy-manual/v/2/2', 'https://www.justice.gov/eoir/eoir-policy-manual/v/3', 'https://www.justice.gov/eoir/eoir-policy-manual/v/4', 'https://www.justice.gov/eoir/eoir-policy-manual/v/5', 'https://www.justice.gov/eoir/eoir-policy-manual/v/5/1', 'https://www.justice.gov/eoir/eoir-policy-manual/v/5/2', 'https://www.justice.gov/eoir/eoir-policy-manual/v/5/3', 'https://www.justice.gov/eoir/eoir-policy-manual/vi', 'https://www.justice.gov/eoir/eoir-policy-manual/vii', 'https://www.justice.gov/eoir/eoir-policy-manual/viii', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/A', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/B', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/C', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/d', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/e', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/F', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/G', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/H', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/I', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/J', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/K', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/L', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/M', 'https://www.justice.gov/eoir/eoir-policy-manual/VIIII/N', 'https://www.justice.gov/eoir/eoir-policy-manual/Appendix/AdjournmentCodes', 'https://www.justice.gov/eoir/eoir-policy-manual/Appendix/TableofChanges']
for url in urls_with_content:
    time.sleep(1)
    getContent(url)

#This calls a program called wkhtmltopdf.exe which will take the HTML saved to our file and convert it to a PDF.
#It can be downloaded at https://wkhtmltopdf.org/
subprocess.call([r"C:\Program Files\wkhtmltopdf\bin\wkhtmltopdf.exe", "--enable-local-file-access","justice_immigration_manual.html", "justice_immigration_manual.pdf"])
